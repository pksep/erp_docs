---
sidebar_position: 22
---

## Путь
База деталей (/basematerial) -> Редактировать материал (/material/add/edit)

---
## Описание
Страница Редактирование материала предоставляет пользователю возможность управлять всеми аспектами информации о материале, включая его наименование, тип и подтип, характеристики, параметры, поставщиков и связанные файлы.

### Особенности
- **Интуитивный интерфейс**
    - Удобное поле ввода для изменения названия материала.
- **Управление файлами**
    - Простое управление прикрепленными документами и изображениями.
    - Возможность добавления файлов через drag and drop, а также предпросмотр и печать.
- **История изменений**
    - Просмотр и отслеживание всех изменений.
- **Выделение спецсимволами**
    - Возможность выделить имя материала для акцента.
- **Гибкость изменений**
    - Возможность сохранить изменения или отменить их.

### Функционал
- **Редактирование материала**
   - Возможность изменения названия материала.
   - Работа с различными таблицами для управления данными.
- **Дополнительные функции**
   - Просмотр истории изменений материала.
   - Отображение принадлежности материала.
   - Возможность выделения имени спецсимволом для акцентирования.
- **Управление изменениями**
   - Возможность сохранения внесенных изменений.
   - Опция отмены изменений для возврата к исходному состоянию данных.

---
## Требования
- **Интуитивный интерфейс**
    - Интерфейс должен быть простым и понятным для пользователя, с четким обозначением всех элементов управления.
    - Элементы интерфейса должны быть логично расположены и легко доступны.
- **Поле ввода названия материала**
    - Удобное поле для ввода и редактирования названия материала.
    - Поддержка ввода текста с возможностью использования спецсимволов для выделения.
- **Добавление файлов**
    - Возможность добавления файлов через drag and drop.
    - Поддержка различных форматов файлов (документы, изображения и т.д.).
- **Предпросмотр и печать**
    - Функция предпросмотра файлов перед печатью.
    - Возможность отправки файлов на печать directly из интерфейса.
- **Просмотр истории**
    - Возможность просмотра всех изменений, внесенных в материал.
    - Отображение информации о времени и пользователе, внесшем изменения.
    - История изменений должна быть представлена в удобном для чтения формате.
- **Отображение принадлежности материала**
    - Информация о принадлежности материала должна быть четко отображена в соответствующем разделе.
- **Выделение имени материала**
    - Возможность выделения имени материала спецсимволами для акцентирования внимания.
    - Инструмент для выбора и применения спецсимволов должен быть интуитивно понятным.
- **Сохранение изменений**
    - Кнопка "Сохранить" для фиксации внесенных изменений.
    - Подтверждение успешного сохранения изменений с помощью всплывающего окна или сообщения.
- **Отмена изменений**
    - Кнопка "В базу" для возврата к исходному состоянию данных.
    - Подтверждение отмены изменений с помощью всплывающего окна или сообщения.
- **Контроль доступа**
    - Доступ к редактированию материала должен быть ограничен авторизованными пользователями.
    - Реализация системы ролей и прав доступа.
- **Сохранность данных**
    - Гарантия сохранности данных при внесении изменений и отмене операций.
    - Регулярное резервное копирование данных.
- **Быстрая загрузка данных**
    - Интерфейс должен обеспечивать быструю загрузку и обработку данных.
- **Отзывчивость интерфейса**
    - Все элементы интерфейса должны быстро реагировать на действия пользователя.
    - Минимальное время отклика на действия пользователя (например, добавление/удаление строк в таблицах).
- **Подсказки и помощь**
    - Наличие контекстных подсказок для сложных функций.
    - Доступ к справочной информации или руководству пользователя.
- **Валидация данных**
    - Проверка введенных данных на корректность перед сохранением.
    - Вывод сообщений об ошибках с указанием причины.

---
## Макет 
![Пример изображения Редактора Материалов](\img\MaterialEditor.png)

| Элементы окна | Назначение |
|---|---|
|Table 1| Таблица "Тип (Тип профиля заготовки)" |
|Table 2| Таблица "Подтип (Материал заготовки)" |
|Table 3| Таблица "Характеристики" |
|Table 4| Таблица "Параметры" |
|Table 5| Таблица "Поставщики" |
|Table 6| Таблица "Файлы" |
|Button 1| <span style={{color: "red"}}>TODO: требуется уточнение</span> |
|Button 2| Открывает модальное окно "История изменений" |
|Button 3| <span style={{color: "red"}}>TODO: требуется уточнение</span> |
|Button 4| Сбрасывает фильтр "Изменить тип и подтип" |
|Button 5| Открывает мдальное окно "Добавить поставщика" |
|Button 6| Выводит на предпросмотр печати файлы из таблицы 6 |
|Button 7| Открывает модальное окно "База файлов" |
|Button 8| Сохраняет все изменения |
|Button 9| Закрывает окно и возвращает в базу |
|Button 10| Добавляет строку в таблицу с характеристиками |
|Button 11| Добавляет строку в таблицу с параметрами |
|Input 1| Поле ввода Наименования |
|textarea| Блок примечания |
|Checkbox| Отметка проставления спецсимвола |
|Drag and Drop| Поле для загрузки файлов |

---
## Верхний блок
## Описание основных элементов интерфейса
- **Наименование:** (Input 1)
    - Предназначено для ввода идентификатора сущности.
    - Используется placeholder для подсказки пользователю, что именно нужно ввести.
    - Допустимое количество символов: От 3 до 255, что обеспечивает уникальность и гибкость идентификатора.
- **Принадлежность** (Button 1)
    - При нажатии открывает модальное окно для выбора или указания принадлежности сущности.
- **История изменений** (Button 2)
    - Открывает модальное окно "История изменений", где пользователь может просмотреть все внесенные изменения в сущность.
- **Материал:**
    - Отображает тип материала, к которому относится сущность.
- **Выделить в поиске** (Checkbox)
    - При активации создаваемая сущность будет выделена специальным символом в базе данных, что облегчит её поиск.
    - По умолчанию не активирован.

---
## Описание поле Примечание (textarea)
Поле "Примечание" предназначено для отображения и редактирования примечаний, оставленных к выбранному материалу.

### Особенности
- **Текстовое поле**
  - Поле позволяет вводить и редактировать текстовые примечания.
- **Удобство использования**
  - Поле расположено в удобном месте интерфейса для быстрого доступа и редактирования.

### Функционал
- **Отображение примечания**
  - Поле показывает текущее примечание, связанное с выбранным материалом.
- **Редактирование примечания**
  - Пользователь может вносить изменения в текст примечания.
- **Допустимые значения**
  - Допустимое количество символов: от 0 до 255.

---
## Нижние блоки
## Блок "Выбор типа и подтипа"
- **Элемент** 
    - Комплексный блок интерфейса.
- **Назначение**
    - Предоставляет пользователю информацию о типе и подтипе сущности, с возможностью изменения или выбора новых значений.

### Особенности
- **Структура блока**
   - **Две таблицы**: Каждая таблица состоит из одного столбца.
   - **Кнопка**: "Изменить тип и подтип" для управления состоянием таблиц.
- **Таблица "Тип (Тип профиля заготовки)"** (Table 1)
   - **Столбец** Содержит наименования типов профилей.
   - **Поиск** Поле для удобного поиска нужного типа.
   - **Начальное значение** Отображает текущий тип профиля редактируемой заготовки.
- **Таблица "Подтип (Материал заготовки)"** (Table 2)
   - **Столбец**: Содержит наименования материалов.
   - **Поиск**: Поле для удобного поиска нужного материала.
   - **Начальное значение**: Отображает текущий материал редактируемой заготовки.
- **Кнопка "Изменить тип и подтип"** (Button 3)
   - **Визуальная индикация**: При нажатии выделяется синим цветом.
- **Ограничение сущности**
   - **Единственность выбора**: Каждая сущность (заготовка) может состоять только из одного типа и одного подтипа.

### Функционал
- **Таблица "Тип (Тип профиля заготовки)"**
    - **Отображение данных**: По умолчанию показывает текущий тип профиля.
    - **Поиск**: Пользователь может использовать поле поиска для быстрого нахождения нужного типа.
    - **Выбор типа**: Пользователь может выбрать другой тип из списка.
- **Таблица "Подтип (Материал заготовки)"**
    - **Отображение данных**: По умолчанию показывает текущий материал.
    - **Поиск**: Пользователь может использовать поле поиска для быстрого нахождения нужного материала.
    - **Выбор материала**: Пользователь может выбрать другой материал из списка.
- **Кнопка "Изменить тип и подтип"** (Button 3)
    - **Сброс значений**: При первом нажатии сбрасывает текущие значения в таблицах и предоставляет доступ ко всему перечню типов и подтипов.
    - **Визуальная индикация**: Кнопка выделяется синим цветом, сигнализируя о включенном режиме изменения.
    - **Возврат к умолчаниям**: При повторном нажатии снимает выделение и возвращает таблицы к начальным значениям.
- **Ограничение выбора**
    - **Единственность**: Пользователь может выбрать только один тип и один подтип для каждой заготовки, что обеспечивает уникальность и точность данных.

---
## Описание таблицы Характеристики (Table 3)
Таблица "Характеристики" предназначена для управления характеристиками материала.

### Особенности
- Содержит две предустановленные строки: "Рекомендуемый остаток" и "Минимальный остаток" в шт.
- В этих строках можно изменить только значение, удаление недоступно (иконка урны отображается серым).

### Структура таблицы (Table 3)
- **Наименование**
    - Поле ввода текста (3-255 символов).
- **Еи**
    - Единица измерения; поле ввода текста (0-255 символов).
- **Значение**
    - Поле ввода текста (0-255 символов).
    - Кнопка "Добавить" (Button 12) добавляет новую строку в таблицу.

### Функционал
- **Иконка красной урны**
    - Расположена напротив каждой строки таблицы.
    - Позволяет удалять строки, кроме предустановленной.

---
## Описание таблицы Параметры (Table 4)
Таблица "Параметры" используется для управления параметрами, связанными с процессами или задачами.

### Особенности
- Содержит одну предустановленную строку: "Норма времени на сборку" в ч.
- В этой строке можно изменить только значение, удаление недоступно (иконка урны отображается серым).

### Структура таблицы (Table 4)
- **Наименование**
    - Поле ввода текста (3-255 символов).
- **Еи**
    - Единица измерения; поле ввода текста (0-255 символов).
- **Значение**
    - Поле ввода текста (0-255 символов).
    - Кнопка "Добавить" (Button 11) добавляет новую строку в таблицу.

### Функционал
- **Иконка красной урны**
    - Расположена напротив каждой строки таблицы.
    - Позволяет удалять строки, кроме предустановленной.

---
## Описание таблицы Поставщики (Table 5)
Таблица "Поставщики" используется для отображения и управления информацией о поставщиках данного материала.

### Особенности
- Отображает список поставщиков.
- Позволяет добавлять новых поставщиков из базы контрагентов.
- Позволяет удалять существующих поставщиков.

### Структура
- **ИНН**
    - Поле отображения текста (ИНН поставщика).
- **Наименование**
    - Поле отображения текста (наименование поставщика).

### Функционал
- **Иконка красной урны**
    - Находится справа напротив каждой строки.
    - Позволяет удалить выбранный элемент из таблицы "Поставщики".
- **Кнопка "Добавить из базы"** (Button 5)
    - При нажатии открывает модальное окно "Добавить поставщика".
    - В модальном окне можно выбрать поставщика из базы контрагентов для добавления в таблицу.

---
## Описание таблицы Медиа файлы (Table 6)
Таблица "Медиа файлы" используется для управления документами и файлами, связанными с процессами или задачами.
## Подключенные компоненты: Слайдер REQ001
- **Слайдер** (Slider)
    - Слайдер предназначен для отображения изображений выбранной сущности. Он позволяет пользователю пролистывать все доступные изображения. 

### Особенности
- Позволяет просматривать, выбирать и добавлять файлы.
- Обеспечивает возможность печати выбранных файлов.

### Структура
- **№**
    - Поле отображения порядкового номера в таблице.
- **Файл**
    - Поле отображения названия файла.
- **Checkbox**
    - Поле выбора.
    - Позволяет выбрать все файлы в таблице или отметить отдельные строки.
    - При клике в заголовке столбца отмечаются все элементы, а при клике на отдельный чекбокс — только соответствующая строка.

### Функционал
- **Кнопка "Печать"** (Button 7)
    - Расположена под таблицей.
    - При нажатии открывается предпросмотр печати для отмеченных с помощью чекбоксов строк.
- **Поле "Прикрепить документ"** (Drag and Drop)
    - Позволяет добавлять новые файлы в таблицу путем перетаскивания или выбора файлов при клике на поле.
- **Кнопка "Добавить из базы"** (Button 10)
    - Кнопка для добавления файлов из базы, при нажатии открывает модальное окно "База файлов", в котором можно добавить файлы из базы.

---
## Описание компонентов управления:
На экране расположены две кнопки управления: "Сохранить" и "В базу". Эти кнопки обеспечивают функциональность для работы с окном.

### Особенности
- **Фиксированное расположение**
    - Кнопки находятся внизу экрана для легкого доступа.

### Функционал
- **Сохранить** (Button 8)
    - **Назначение**: Сохраняет изменения и обновляет базу данных.
    - **Действие**: При нажатии данные сохраняются в базе, и окно закрывается.
    - **Уведомление**: При успешном сохранении данных всплывает уведомление об успешности операции.
- **В базу** (Button 9)
    - **Назначение**: Закрывает окно без сохранения изменений.
    - **Действие**: Окно закрывается, и база данных остаётся без изменений.
