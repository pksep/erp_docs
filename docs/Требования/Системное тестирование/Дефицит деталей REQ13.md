---
sidebar_position: 13
---

## Путь 
Склад (/sclad) -> Дефицит Деталей (/deficitdetal)

## Описание
Страничка предназначена для отображения списка дефицита деталей с указанием количества в штуках и обеспечения возможности запуска выбранных позиций в производство.\
Этот инструмент упрощает управление запасами и планирование производственных процессов.\
Пользователь может выбрать нужные позиции и запустить их в производство.\
Также предусмотрена возможность фильтрации списка по различным критериям, таким как "Статус", "Дефицит" и "Заказ покупателя из задач на отгрузку".\
Принципы функционирования страницы дефицитов заключаются в том, что при создании или изменении заказов на складе, а также при формировании задач на отгрузку или оприходовании, данные фиксируются и отображают актуальные дефициты сущностей.

### Особенности
- **Актуальный список дефицита**
  - Список деталей с указанием количества в штуках для точного отслеживания потребностей.
- **Интуитивный поиск**
  - Возможность поиска по "Обозначению" или "Наименованию".
  - Доступ к истории запросов для быстрого повторного поиска.
- **Запуск в производство**
  - Простое управление запуском выбранных позиций в производство.
- **Фильтрация данных**
  - Фильтрация по статусу товаров.
  - Фильтрация по уровню дефицита.
  - Фильтрация по заказам покупателей.

### Функционал
- **Отображение списка дефицита**
   - Показывает список деталей с указанием дефицита количества в штуках.
- **Поиск и история запросов**
   - Поиск по различным параметрам, таким как "Обозначение" или "Наименование".
   - Просмотр истории поисковых запросов.
- **Запуск в производство**
   - Выбор и запуск позиций из списка в производство.
- **Фильтрация**
   - Фильтрация по "Статусу" ("Все", "Заказано", "Не заказано").
   - Фильтрация по "Дефициту" ("Все", "Общий", "По заказам покупателя").
   - Фильтрация по "Заказ покупателя из задач на отгрузку" (позволяет отобразить товары, связанные с конкретными заказами).
- **П

---
## Требования
- **Отображение списка дефицита продукции**
  - Пользователь должен видеть актуальный список деталей, находящихся в дефиците.
   - Список должен быть представлен в виде таблицы с подробными колонками, описанными ниже.
- **Поиск и история запросов**
  - Пользователь должен иметь возможность найти конкретную деталь используя поиск по "Обозначению" или "Наименованию".
  - Пользователь должен иметь возможность просматривать историю предыдущих запросов поиска.
- **Запуск в производство**
   - Пользователь должен иметь возможность выбрать одну или несколько позиций из списка и запустить их в производство.
   - При попытке запустить в производство без выбранных позиций, должно появляться предупреждение.
- **Фильтрация**
   - Пользователь должен иметь возможность отфильтровать по "Статусу" ("Все", "Заказано", "Не заказано").
   - Пользователь должен иметь возможность отфильтровать "Дефициту" ("Все", "Общий", "По заказам покупателя").
   - Пользователь должен иметь возможность отфильтровать "Заказ покупателя из задач на отгрузку" (позволяет отобразить товары, связанные с конкретными заказами).

---
## Макет
![Пример изображения Дефицит сборочных единиц](\img\ProductShortage\PartsShortage.png)

| Элементы окна | Назначение |
|---|---|
|Filter 1| Фильтрует по статусу и дефициту |
|Order filter| отображен фильтр "Заказ покупателя из задач на отгрузку" REQ002 |
|Table 1| Таблица Дефицита продукции |
|Button 1| Открывает модальное окно "Запустить в производство" |
|Checkbox| Клик приводит к выбору всех элементов из списка или снимает выбор со всех элементов из списка|

---
## Подключенные компоненты:
### Фильтр "Заказ покупателя из задач на отгрузку" (REQ002)
- **Заказ покупателя из задач на отгрузку** 
   - Фильтр (Order filter) REQ002 предоставляет пользователям инструменты для эффективного управления и мониторинга заказов покупателей, готовых к отгрузке.

---
## Описание фильтра "Статусы"
Фильтр "Статусы" реализован в форме выпадающего меню (dropdown menu) и предназначен для упрощения управления данными, связанными с дефицитом товаров или ресурсов.\
Он позволяет пользователям эффективно сортировать элементы по их статусу дефицита.

### Особенности
- **Форма представления**
   - Выпадающее меню (dropdown menu) обеспечивает удобный доступ к опциям фильтрации.
- **Три варианта фильтрации**
   - **Все** отображает все позиции, независимо от их статуса.
   - **Заказано** показывает только те позиции, которые были заказаны.
   - **Не заказано** включает позиции, которые ещё не были заказаны.
- **Значение по умолчанию**
   - Автоматически выбирается опция "Все", чтобы пользователь сразу видел полный список без дополнительной настройки.

### Функционал
- **Фильтрация данных** 
   - Позволяет быстро находить и анализировать элементы в зависимости от их статуса дефицита.
- **Эффективное управление запасами** 
   - Помогает принимать обоснованные решения по заказу товаров, анализируя, что уже заказано и что требует внимания.
- **Улучшение визуализации**
   - Упрощает просмотр данных, предоставляя только актуальную информацию согласно выбранному статусу.
- **Снижение времени на поиск**
   - Уменьшает время, затрачиваемое на поиск необходимой информации, за счёт быстрого переключения между статусами.

---
## Описание фильтра "Дефициты"
Фильтр "Дефициты" реализован в форме выпадающего меню и предназначен для управления данными о дефиците деталей.\
Он позволяет пользователям сортировать элементы по различным категориям дефицита.

### Особенности
- **Форма представления**
   - Выпадающее меню (dropdown menu) обеспечивает удобный доступ к опциям фильтрации.
- **Варианты фильтрации**
   - **Все** отображает все позиции, независимо от их категории дефицита.
   - **Общий** показывает общий дефицит без привязки к конкретным заказам.
   - **По заказам покупателя** включает дефициты, связанные с конкретными заказами покупателей.
- **Значение по умолчанию**
   - Автоматически выбирается опция "Все", чтобы пользователь сразу видел полный список без необходимости настройки.

### Функционал
- **Фильтрация данных**
   - Позволяет быстро находить и анализировать элементы в зависимости от типа дефицита.
- **Эффективное управление запасами**
   - Помогает принимать обоснованные решения, анализируя общий дефицит и дефицит по заказам.
- **Улучшение визуализации**
   - Упрощает просмотр данных, предоставляя актуальную информацию в зависимости от выбранной категории.
- **Снижение времени на поиск**
   - Уменьшает время, затрачиваемое на поиск нужной информации, за счёт быстрого переключения между категориями дефицита.

---
## Описание таблицы "Дефицит Деталей" (Table 1)
Таблица "Дефицит Деталей" отображает состояние дефицитов деталей по заказам покупателей.\
Она предоставляет пользователям возможность отслеживать недостающие детали, необходимые для выполнения заказов, а также управлять запасами и производственными процессами.

### Структура таблицы (Table 1)
- **Детали для сборок из комплектации** содержит 6 подколонок:
    - **№** 
      - Порядковый номер.
    - **Иконка галочка** 
      - Чекбокс для выбора позиции.
   - **Обозначение**
     - Отображает обозначение изделия.
     - Текст подсвечивается при наведении и копируется по клику.
   - **Наименование** 
     - Отображает наименование изделия.
     - Текст подсвечивается при наведении и копируется по клику.
     - При двойном клике открывается модальное окно "Краткая информация о детали".
    - **Дата план. отгрузки** 
      - Ближайшая дата плановой отгрузки.
    - **Заказы** 
      - [Иконка](/img/plus.png) для открытия модального окна с списком заказов.
- **Поиск**
   - Расположен под колонкой "Детали для сборок из комплектации"
   - Позволяет искать изделия по "Обозначению" или "Наименованию".
   - Включает возможность просмотра истории запросов поиска.
   - Используется placeholder для подсказки пользователю допустимых значений поиска.
- **Дефицит** 
   - Недостающее количество в шт.
- **Потребность по заказам склада** 
   - Необходимое количество в шт. с возможностью открытия модального окна "Принадлежность".
- **Остаток** 
   - Общее количество выбранного изделия.
- **С учетом прихода Сб. и Изд.** 
   - Необходимое количество с учетом прихода.
- **Минимальный остаток** 
   - Количество минимального остатка изделия.
- **Рекомендуемый остаток** 
   - Рекомендуемый остаток изделия.
- **ЧПУ** 
   - <span style={{color: "red"}}>TODO: Требует уточнения</span>.
- **Норма времени** 
   - Различные виды норм времени для производства.
- **СВОЕ кол-во** 
   - <span style={{color: "red"}}>TODO: Требует уточнения</span>.
- **Заказано на производстве** 
   - Количество заказанных сущностей в производстве.
- **Дефицит с учетом пр-ва** 
   - Дефицит деталей с учетом производства.
- **Реальный остаток с учетом планируемых отгрузок и планируемого производства** 
   - Конечный остаток с учетом планируемых отгрузок и производства.
- **Статус** 
   - Статус заказанной сущности.
- **Готовность** 
   - Уровень готовности в процентах.
- **Техпроцесс** 
   - Иконка для открытия модального окна "Технологический процесс".
- **Примечание** 
   - Иконка для открытия модального окна "Примечание".

### Особенности
- **Интерактивные элементы**
   - Чекбоксы и иконки для быстрого доступа к дополнительной информации и действиям.
- **Поиск и фильтрация**
   - Функции поиска и фильтрации для удобства пользователей, позволяющие быстро находить нужные детали.

### Функционал
- **Отображение состояния дефицитов**
   - Таблица показывает текущее состояние дефицитов деталей по заказам покупателей, включая информацию о необходимых количествах и остатках.
- **Доступ к модальным окнам**
   - Пользователи могут открывать модальные окна для получения дополнительной информации о деталях, заказах и технологических процессах.
- **Фильтрация и поиск**
   - Возможность фильтрации данных по различным критериям и поиска по артикулу или наименованию для быстрого нахождения нужной информации.
- **Управление запасами**
   - Пользователи могут отслеживать и управлять запасами деталей, что помогает в планировании и выполнении заказов.

---
## Описание компонентов управления
Под таблицей (Table 1) расположена кнопка управления "Запустить в производство" (Button 1).\
Эта кнопка обеспечивает функциональность для работы с данными в таблице.

### Особенности
- **Фиксированное расположение**
  - Кнопка находятся внизу экрана с фиксированной позицией для легкого доступа.
- **Яркое выделение**
  - Кнопка "Запустить в производство" имеет выделенный фон для акцента.
  - Реализована в виде кнопки с надписью *Запустить в производство*.
- **Предупреждения**
  - Система предупреждает о необходимости выбора задачи, предотвращая ошибки.

### Функционал
   - **Запустить в производство** (Button 1)
      - **Функция**: Отправляет выбранные позиции в производство.
      - **Действие**: При нажатии открывает модальное окно с заголовком "Запустить в производство".
      - **Особенность**: Кнопка выделена цветом `background: #00fb91;`.
      - **Предупреждение**: Если не выбрана ни одна позиция из списка, появляется предупреждение: "Для начала выберите Д и заказ".